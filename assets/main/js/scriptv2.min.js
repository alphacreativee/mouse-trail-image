let hiddenImages=document.querySelectorAll(".hidden-images img"),images=Array.from(hiddenImages).map(e=>e.src),mouseContainer=document.querySelector(".mouse-trail"),currentImageIndex=0,lastX=0,lastY=0,distanceThreshold=window.innerWidth<991?100:140,isMobile=window.innerWidth<991;function createRandomFallingImage(){let e=document.createElement("img");e.classList.add("image-trail"),e.src=images[currentImageIndex],mouseContainer.appendChild(e),currentImageIndex=(currentImageIndex+1)%images.length;var a=Math.random()*(window.innerWidth-80);gsap.set(e,{x:a,y:-80,scale:0,opacity:0,rotation:gsap.utils.random(-20,20)}),gsap.to(e,{scale:1,opacity:1,duration:.3,ease:"power2.out"}),gsap.to(e,{y:window.innerHeight+80,duration:2,ease:"power2.in"}),gsap.to(e,{scale:.2,opacity:0,duration:.5,delay:1.5,ease:"power2.in",onComplete:()=>{e.remove()}})}function startRandomImageFall(){createRandomFallingImage();var e=2e3*Math.random()+1e3;setTimeout(startRandomImageFall,e)}function createTrail(e,a){let t=document.createElement("img");t.classList.add("image-trail"),t.src=images[currentImageIndex],mouseContainer.appendChild(t),currentImageIndex=(currentImageIndex+1)%images.length,gsap.set(t,{x:e-40,y:a-40,scale:0,opacity:0,rotation:gsap.utils.random(-20,20)}),gsap.to(t,{scale:1,opacity:1,duration:.5,ease:"power2.out"}),gsap.to(t,{scale:.2,opacity:0,duration:1,delay:.3,ease:"power2.in",onComplete:()=>{t.remove()}})}isMobile?startRandomImageFall():window.addEventListener("mousemove",e=>{var a=e.clientX-lastX,t=e.clientY-lastY;Math.sqrt(a*a+t*t)>distanceThreshold&&(createTrail(e.clientX,e.clientY),lastX=e.clientX,lastY=e.clientY)});